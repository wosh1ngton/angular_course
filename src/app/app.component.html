<div class="container">

  <nav class="navbar navbar-expand-md navbar-light bg-light">
    <div class="container-fluid">
      <a href="#" class="navbar-brand">
        <img src="../assets/AngularJS-Shield.svg" width="50px" height="55px" alt="">
        <strong> Curso de Angular </strong>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarPrincipal"
        aria-expanded="false" aria-label="Toggle navigation" aria-controls="navbarPrincipal">
        <span class="navbar-toggler-icon">
        </span>
      </button>

      <div class="collapse navbar-collapse" id="navbarPrincipal">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a href="#" class="nav-link" aria-current="page" (click)="menuEscolhido = 'Home'"
              [class.active]="menuEscolhido == 'Home'">Home</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" aria-current="page" (click)="menuEscolhido = 'Diretivas'"
              [class.active]="menuEscolhido == 'Diretivas'">Diretivas</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" aria-current="page" (click)="menuEscolhido = 'Componente'"
              [class.active]="menuEscolhido == 'Componente'">Componentes</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" aria-current="page" (click)="menuEscolhido = 'Template'"
              [class.active]="menuEscolhido == 'Template'">Templates</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" aria-current="page" (click)="menuEscolhido = 'Injecao'"
              [class.active]="menuEscolhido == 'Injecao'">Injeção de Dependência</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" aria-current="page" (click)="menuEscolhido = 'Outros'"
              [class.active]="menuEscolhido == 'Outros'">Outros</a>
          </li>
        </ul>

      </div>
    </div>
  </nav>

  <div [ngSwitch]="menuEscolhido">

    <div *ngSwitchCase="'Diretivas'">

      <nav class="navbar navbar-expand-md navbar-light" style="background-color: #e3f2fd;">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarDiretivas">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarDiretivas">
            <ul class="navbar-nav">
              <li class="nav-item">
                <!-- se viewMode for map a classe active aparecerá, quando clicamos em viewMode ela passa a ser map -->
                <a class="nav-link" (click)="viewMode = 'if'" [class.active]="viewMode == 'if'" aria-current="page">If
                  Statement</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" (click)="viewMode = 'switch'" [class.active]="viewMode == 'switch'">Switch Statement
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" (click)="viewMode = 'for'" [class.active]="viewMode == 'for'"> For Statement </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <div [ngSwitch]="viewMode">
        <div *ngSwitchCase="'if'" class="m-2">
          <h3> Como adicionar ou remover elementos da página </h3>
          <span class="fs-6 lh-base">
            Para adicionar ou remover um elemento, utilize *NgIf em conjunto com uma expressão ou variável booleana.
            Por padrão, ngIf evita que seja exibido um elemento com um valor nulo associado. Há diversas formas de
            adicionar ou
            remover elementos, no exemplo abaixo, a div aparecerá se a condição do if retornar verdadeiro, caso retorne
            falso, o elemento
            é retirado da tela e também do DOM.
          </span>

          <div class="mt-3 row g-2 bg-light p-2">
            
              <div class="col-auto">
                <label for="totalDeCursos" class="align-middle">Total de Cursos</label>
              </div>
              <div class="col-auto">
                <input type="number" #totalCursos class="form-control form-control-md">
              </div>
              <div class="col-auto">
                <button class="btn btn-primary btn-md" (click)="onKeyUp(totalCursos.value)">Enviar</button>
              </div>
              <div class="col-auto">
                <span class="align-middle">Informe um valor e clique em enviar para testar a diretiva ngIf </span>
              </div>
            
          </div>

          <h5 class="m-2"> 1. Utilizando a diretiva *ngIf </h5>
          <span class="fs-6 lh-base">
            Para testar o exemplo informe um valor para Total de Cursos no formulário logo acima, se o valor for maior
            que 0 haverá cursos e a div com a mensagem "Lista de Cursos" aparecerá, caso seja 0 a div exibida será 
            a que possui a mensagem "Ainda não há cursos".
          </span>
          <pre class="bg-light">
                {{ textoHtml }}
              </pre>

          <div *ngIf="courses.length > 0" class="p-3 bg-light text-primary border border-primary">
            Lista de Cursos
          </div>

          <div *ngIf="courses.length == 0" class="p-3 bg-light text-danger border border-danger">
            Ainda não há cursos
          </div>
          <h5 class="m-2"> 2. Utilizando *ngIf com template variable e ng-template </h5>
          <span class="fs-6 lh-base">
            A seguir, têm-se o mesmo resultado do if anterior, utilizando ng-template e a instrução else,
            repare que a template variable #noCourses e #coursesList foram utilizadas para chamar o ng-template
            correspondente. a template variable é a referência para a div que será exibida conforme resultado
            do if.
          </span>

          <pre class="bg-light">
                {{ textoHtmlIfNGTemplate }}
          </pre>

          <div *ngIf="courses.length > 0; then coursesList else noCourses"> </div>
          <ng-template #coursesList class="border border-primary text-primary">
            <div class="border border-primary text-primary-3 p-3"> Lista de Cursos </div>             
          </ng-template>

          <ng-template #noCourses>
            <div class="border border-danger text-danger p-3"> Ainda não há cursos </div> 
          </ng-template>
          
          <h5 class="m-2">3. Utilizando hidden para adicionar ou remover elementos </h5>

          <span class="lh-base fs-6">
            O atributo hidden é uma alternativa para ocultar e mostrar elementos, pode ser utilizado como uma property
            bind em conjunto com uma expressão booleana, o resultado da expressão define se o elemento aparece ou não,
            a principal diferenção para o ngIf é que, neste caso, ambas as divs aparecem no DOM, ou seja, se inspecionarmos
            o HTML verificaremos que as duas divs estão no código fonte, embora não apareçam na tela.
          </span>         
          <pre class="bg-light">
            {{textoHtmlHidden}}
          </pre>
          <div [hidden]="courses.length == 0" class="text-primary border border-primary p-3">
            Lista de cursos
          </div>
          <div [hidden]="courses.length > 0" class="text-danger border border-danger p-3">
            Ainda não há cursos
          </div>

        </div>

        <div *ngSwitchCase="'switch'"> 
          <h3 class="p-2"> Como utilizar a diretiva ngSwitchCase</h3>
          <div>
          <span class="lh-base fs-6">
            O ngSwitchCase directive é recomendável para quando queremos comparar uma property ou um field 
            contra múltiplos valores, um exemplo prático de uso seria a ativação de menus quando clicados. 
            Conforme exemplificado abaixo, neste cenário, tem-se uma lista de opções, quando a opção for clicada
            o evento (click) atribui um valor para a property testeSwitch, esse valor atribuído é utilizado 
            para verificar se a classe 'active' utilizada para destacar a opção clicada será ou não habilitada,
            para que ela seja habilitada é necessário que a expressão "testeSwitch == 'valor'" seja verdadeira. Em sendo 
            verdadeira além da ativação da classe active, a div correspondente será exibida, conforme instrução
            ngSwitchCase.
          </span>
          
          
        </div>
          <pre class="bg-light">
            {{ textoSwitchCase }}
          </pre>
       
          <ul class="nav nav-tabs">
            <li class="nav-item"> 
              <a href="#" class="nav-link" [class.active]="testeSwitch == 'mapa'" (click)="testeSwitch = 'mapa'">Mapa</a>  
            </li>
            <li class="nav-item"> 
              <a href="#" class="nav-link" [class.active]="testeSwitch == 'lista'" (click)="testeSwitch = 'lista'">Lista</a> 
            </li>
            <li class="nav-item"> 
              <a href="#" class="nav-link" [class.active]="testeSwitch == 'outros'" (click)="testeSwitch = 'outros'">Outros</a> 
            </li>
          </ul>

          <div [ngSwitch]="testeSwitch">
            <div *ngSwitchCase="'mapa'" class="p-2"> Conteúdo de Mapa </div>
            <div *ngSwitchCase="'lista'" class="p-2"> Conteúdo de Lista </div>
            <div *ngSwitchCase="'outros'" class="p-2"> Conteúdo de Outros </div>
          </div>
       
        </div>

        <div *ngSwitchCase="'for'">
          <h3 class="p-2">Utilizando o NgFor</h3>
          <span class="fs-6 lh-base">
            Utilizado para renderizar uma lista de objetos o NgFor tem também valores exportáveis,
            são valores que podem ser extraídos com o uso de palavras reservadas, estes valores são:
            first: boolean; index: number; last: boolean; even: boolean; odd: boolean, o significado é
            auto-explicativo. No exemplo abaixo o usuário informa a quantidade de cursos que quer exibir,
            valor entre 1 e 10 e o ngFor faz a exibição do html correspondente. Também é possível incluir os
            índices e marcar se deseja apenas as ocorrências pares ou ímpares.
          </span>
          <div class="row g-2 p-3 bg-light mt-2">
            <div class="col-auto">
              <label class="align-middle" for="totalDeCursos"> Informe a quantidade de cursos<br /> a serem exibidos</label>
            </div>
            <div class="col-auto">
              <input type="number" class="form-control" id="totalDeCursos" #total>
            </div>
            <div class="col-auto">
              <input type="button" class="btn btn-primary" value="Ver Cursos" (click)="onClickSendTotal(total.value)">
            </div>
            <div class="col-auto form-check form-switch m-3">              
              <input type="checkbox" class="form-check-input" id="flexSwitchIndice"  [(ngModel)]="mySwitch" > 
              <label for="flexSwitchIndice" class="form-check-label"> Mostrar índices? </label>
            </div>
            <div class="col-auto form-check form-switch m-3">              
              <input type="checkbox" class="form-check-input" id="flexSwitchIndice" [(ngModel)]="switchPar"> 
              <label for="flexSwitchIndice" class="form-check-label"> Mostrar apenas pares? </label>
            </div>
            <div class="col-auto form-check form-switch m-3">              
              <input type="checkbox" class="form-check-input" id="flexSwitchIndice" [(ngModel)]="switchImpar"> 
              <label for="flexSwitchIndice" class="form-check-label"> Mostrar apenas ímpares? </label>
            </div>
          </div>
          <ul class="list-group list-group-flush">            
            <li class="list-group-item" *ngFor="let curso of cursos; let i = index; let isEven = even; let isOdd = odd">

              <div *ngIf="switchImpar == true; then impares; else null;"> </div>
              <div *ngIf="switchPar == true; then pares; else null;"> </div>
              <div *ngIf="switchPar == false && switchImpar == false; then todos; else null;"> </div>

              <ng-template #impares>
                  <span *ngIf="isEven"> <span [hidden]="mySwitch == false"> {{ i }} - </span> {{ curso.nome }}  </span>
              </ng-template>

              <ng-template #pares>
                <span *ngIf="isOdd"> <span [hidden]="mySwitch == false"> {{ i }} - </span> {{ curso.nome }} </span>
              </ng-template>

              <ng-template #todos>
                <span> <span [hidden]="mySwitch == false"> {{ i }} - </span> {{ curso.nome }}  </span>
              </ng-template>              
            </li>
          </ul>


          <pre class="bg-light">
            {{ textoFor }}
          </pre>
        </div>
        
      </div>
      
    </div>
    <div *ngSwitchCase="'Outros'">
      <app-directives></app-directives>
      <app-pipe-example> </app-pipe-example>
      <!-- app-favorite é um child selector -->
      <!-- [favorito] é um child selector, vem do componente favorito, "post.isFavorite" é uma property from parent-->
      <app-favorite [favorito]="post.isFavorite" (change)="onFavoriteChanged($event)"> </app-favorite>

      <!-- 
              a chamada desse componente tem um evento criado (newItemEvent) que chama um método
              do componente atual (app.component.ts) esse método passa o valor do evento, que no caso
              é um valor que vem do child template
            -->
      <app-exemplo-sharing-data (newItemEvent)="addItems($event)"> </app-exemplo-sharing-data>

      <ul>
        <li *ngFor="let item of items">
          {{ item }}
        </li>
      </ul>

      <span> </span>
      <!-- para setar o body e o heading do painel, é possível fazer via property binding 
            assim <app-panel [body]="body"> </app-panel>,
            mas essa sintaxe não é a mais adequada, para isso existe o ngContent element
            -->
      <app-panel>

        <ng-container class="heading"> Heading+ </ng-container>
        <div class="body">
          <h2> Body </h2>
          <p>some content</p>
        </div>
      </app-panel>



      <app-like [totalCounts]="tweet.totalLikes" [isActive]="tweet.isLiked"> </app-like>
    </div>
  </div>

</div>